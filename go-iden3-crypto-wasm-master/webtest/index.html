<html>
<head>
	<meta charset="utf-8">
	<title>go-iden3-crypto wasm experiments</title>
</head>

<style type="text/css">
	body {
		width:60%;
		margin-left:20%;
	}
	p {
		text-align: justify;
		margin: 0 2em 0 0;
	}
	#results, #results_a {
		font-size: x-large;
	}
</style>

<body>
	<script src="wasm_exec.js"></script>
	<script src="iden3js-bundle.js"></script>

	<h1>This program hashes a string a specified number of times using Poseidon.</h1><HR>

	<!-- buttons for each number of runs-->
	<!-- calls benchmark function in index.js-->
	
	<div id="ten">
		<h2>Runs of 10:</h2>
		<!-- benchmarking added by javascript for 10 runs -->
	</div><HR>

	<div id="hundred">
		<h2>Runs of 100:</h2>
		<!-- benchmarking added by javascript for 100 runs -->
	</div><HR>

	<div id="thousand">
		<h2>Runs of 1000:</h2>
		<!-- benchmarking added by javascript for 1000 runs-->
	</div><HR>

	<button onClick="benchmark(10);">Hash 10 Times</button><br><br>
	<button onClick="benchmark(100);">Hash 100 Times</button><br><br>
	<button onClick="benchmark(1000);">Hash 1000 Times</button><br><br>
	<form action="../../index.html" id="back">
		<input type="submit" value="Back to Home Page" id="back"/>
	</form><br>

	<script>
		const go = new Go();
		WebAssembly.instantiateStreaming(fetch('go-iden3-crypto.wasm'), go.importObject).then(function(dat) {
		    go.run(dat.instance);
		});
	</script>

	<script src="index.js"></script>
</body>
</html>
